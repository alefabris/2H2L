<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Games | Z4NE.zone</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <nav>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="activities.html">Activities</a></li>
      <li><a href="games.html">Games</a></li>
      <li><a href="join.html" class="join-button">Join</a></li>
    </ul>
  </nav>

  <div class="games-wrapper">
    <h1>Games</h1>

    <div class="filter-controls">
      <label>
        Players:
        <select id="playerFilter">
          <option value="">Any</option>
          <option value="2">2+</option>
          <option value="3">3+</option>
          <option value="4">4+</option>
          <option value="5">5+</option>
          <option value="6">6+</option>
        </select>
      </label>
      
      <label>
        Duration:
        <select id="timeFilter">
          <option value="">Any</option>
          <option value="30">≤ 30'</option>
          <option value="60">≤ 60'</option>
          <option value="90">≤ 90'</option>
          <option value="120">≤ 120'</option>
        </select>
      </label>
      
      <label>
        Owner:
        <select id="ownerFilter">
          <option value="">All</option>
          <option value="gasca98">gasca98</option>
          <option value="RushHD">RushHD</option>
        </select>
      </label>
      
      <button id="clearFilters" class="clear-filters">Reset Filters</button>
    </div>

    <!-- GAME: Blood Rage -->
    <div class="game" data-players="2-4" data-players-with-expansion="5">
      <div class="game-meta">
        <span><img src="assets/icons/player-purple.svg" alt="Players" class="emoji-icon" />: 2–4 | <img src="assets/icons/time-purple.svg" alt="Time" class="emoji-icon" />: 60–90'</span>
      </div>
      <h2><a href="https://boardgamegeek.com/boardgame/170216/blood-rage" target="_blank">Blood Rage</a></h2>
      <p>Battle-driven area control game set in Norse mythology.</p>
      <div class="expansion">
        <a href="https://boardgamegeek.com/boardgameexpansion/174506/blood-rage-5th-player-expansion" target="_blank">
          5th Player Expansion <span class="expansion-note"><img src="assets/icons/player-purple.svg" alt="Players" class="emoji-icon" /> +1 player</span>
        </a>
        <span>Adds components to include a fifth player.</span>
      </div>
      <div class="expansion">
        <a href="https://boardgamegeek.com/boardgameexpansion/175100/blood-rage-mystics-of-midgard" target="_blank">
          Mystics of Midgard
        </a>
        <span>Introduces mystical warrior units with unique abilities.</span>
      </div>
      <div class="expansion">
        <a href="https://boardgamegeek.com/boardgameexpansion/174801/blood-rage-gods-of-asgard" target="_blank">
          Gods of Ásgard
        </a>
        <span>Adds gods to the game, affecting each province with unique effects.</span>
      </div>
      <small class="owner">(gasca98)</small>
    </div>

    <!-- GAME: Magic: The Gathering – Commander Legends -->
    <div class="game" data-players="2-4">
      <div class="game-meta">
        <span><img src="assets/icons/player-purple.svg" alt="Players" class="emoji-icon" />: 4-8 | <img src="assets/icons/time-purple.svg" alt="Time" class="emoji-icon" />: 60–120'</span>
      </div>
      <h2><a href="https://boardgamegeek.com/boardgame/361076/magic-the-gathering-commander-legends" target="_blank">Magic: The Gathering – Commander Legends</a></h2>
      <p>Draft e costruisci mazzi Commander in un'esperienza multiplayer unica.</p>
      <small class="owner">(gasca98)</small>
    </div>

    <!-- GAME: Marvel Zombies: A Zombicide Game -->
    <div class="game" data-players="1-6">
      <div class="game-meta">
        <span><img src="assets/icons/player-purple.svg" alt="Players" class="emoji-icon" />: 1–6 | <img src="assets/icons/time-purple.svg" alt="Time" class="emoji-icon" />: 60'</span>
      </div>
      <h2><a href="https://boardgamegeek.com/boardgame/351817/marvel-zombies-a-zombicide-game" target="_blank">Marvel Zombies: A Zombicide Game</a></h2>
      <p>Play as zombified Marvel heroes in cooperative missions against humanity.</p>
      <div class="expansion">
        <a href="https://boardgamegeek.com/boardgame/355200/marvel-zombies-x-men-resistance" target="_blank">
          X-Men Resistance
        </a>
        <span>Expansion introducing the X-Men as new playable characters and additional missions.</span>
      </div>
      <div class="expansion">
        <a href="https://boardgamegeek.com/boardgameexpansion/356524/marvel-zombies-a-zombicide-game-clash-of-the-sinister-six" target="_blank">
          Clash of the Sinister Six
        </a>
        <span>Adds the Sinister Six as enemies and allows playing with a seventh player.</span>
      </div>
      <small class="owner">(gasca98)</small>
    </div>

    <!-- GAME: Senjutsu: Battle For Japan -->
    <div class="game" data-players="1-4">
      <div class="game-meta">
        <span><img src="assets/icons/player-purple.svg" alt="Players" class="emoji-icon" />: 1–4 | <img src="assets/icons/time-purple.svg" alt="Time" class="emoji-icon" />: 15–20'</span>
      </div>
      <h2><a href="https://boardgamegeek.com/boardgame/343900/senjutsu-battle-for-japan" target="_blank">Senjutsu: Battle For Japan</a></h2>
      <p>Strategic samurai duels with deck-building mechanics and tactical combat.</p>
      <small class="owner">(gasca98)</small>
    </div>

    <!-- GAME: Skull -->
    <div class="game" data-players="3-6">
      <div class="game-meta">
        <span><img src="assets/icons/player-purple.svg" alt="Players" class="emoji-icon" />: 3–6 | <img src="assets/icons/time-purple.svg" alt="Time" class="emoji-icon" />: 15–45'</span>
      </div>
      <h2><a href="https://boardgamegeek.com/boardgame/92415/skull" target="_blank">Skull</a></h2>
      <p>A bluffing game of danger, strategy and flowers.</p>
      <small class="owner">(RushHD)</small>
    </div>

    <!-- GAME: S.P.Q.RisiKo! -->
    <div class="game" data-players="3-6">
      <div class="game-meta">
        <span><img src="assets/icons/player-purple.svg" alt="Players" class="emoji-icon" />: 3–5 | <img src="assets/icons/time-purple.svg" alt="Time" class="emoji-icon" />: 120'</span>
      </div>
      <h2><a href="https://boardgamegeek.com/boardgame/21503/spqrisiko" target="_blank">S.P.Q.RisiKo!</a></h2>
      <p>Version set in ancient Rome of the classic territorial conquest game RisiKo!.</p>
      <small class="owner">(gasca98)</small>
    </div>
    
    <!-- GAME: The Witcher -->
    <div class="game" data-players="1-5">
      <div class="game-meta">
        <span><img src="assets/icons/player-purple.svg" alt="Players" class="emoji-icon" />: 1–5 | <img src="assets/icons/time-purple.svg" alt="Time" class="emoji-icon" />: 90–150'</span>
      </div>
      <h2><a href="https://boardgamegeek.com/boardgame/331106/the-witcher-old-world" target="_blank">The Witcher: Old World</a></h2>
      <p>Adventure game set in the Witcher universe, where players are rival monster-hunters.</p>
      <div class="expansion">
        <a href="https://boardgamegeek.com/boardgameexpansion/364789/the-witcher-old-world-exclusive-monster-pack" target="_blank">
          Exclusive Monster Pack
        </a>
        <span>Adds unique and powerful monsters to the base game.</span>
      </div>
      <small class="owner">(gasca98)</small>
    </div>

    <!-- GAME: Unicorn Overlord -->
    <div class="game" data-players="2-4">
      <div class="game-meta">
        <span><img src="assets/icons/player-purple.svg" alt="Players" class="emoji-icon" />: 2–4 | <img src="assets/icons/time-purple.svg" alt="Time" class="emoji-icon" />: 30–120'</span>
      </div>
      <h2><a href="https://boardgamegeek.com/boardgame/412062/unicorn-overlord-official-card-game" target="_blank">
        Unicorn Overlord: Official Card Game</a></h2>
      <p>Card game inspired by the tactical RPG Unicorn Overlord, for fast-paced strategy duels.</p>
      <small class="owner">(gasca98)</small>
    </div>

    <!-- GAME: Warhammer: The Horus Heresy – Legions Imperialis -->
    <div class="game" data-players="2">
      <div class="game-meta">
        <span><img src="assets/icons/player-purple.svg" alt="Players" class="emoji-icon" />: 2 | <img src="assets/icons/time-purple.svg" alt="Time" class="emoji-icon" />: 60–180'</span>
      </div>
      <h2><a href="https://boardgamegeek.com/boardgame/408598/warhammer-the-horus-heresy-legions-imperialis" target="_blank">Warhammer: The Horus Heresy – Legions Imperialis</a></h2>
      <p>Small-scale epic wargame set in the Warhammer 30K universe.</p>
      <small class="owner">(gasca98)</small>
    </div>

    <!-- GAME: Warhammer Underworlds: Shadespire -->
    <div class="game" data-players="2">
      <div class="game-meta">
        <span><img src="assets/icons/player-purple.svg" alt="Players" class="emoji-icon" />: 2 | <img src="assets/icons/time-purple.svg" alt="Time" class="emoji-icon" />: 30'</span>
      </div>
      <h2><a href="https://boardgamegeek.com/boardgame/224597/warhammer-underworlds-shadespire" target="_blank">Warhammer Underworlds: Shadespire</a></h2>
      <p>Competitive miniatures game with deck-building elements set in the City of Shadows.</p>
      <small class="owner">(gasca98)</small>
    </div>

    <!-- GAME: Zombicide: Green Horde -->
    <div class="game" data-players="1-6">
      <div class="game-meta">
        <span><img src="assets/icons/player-purple.svg" alt="Players" class="emoji-icon" />: 1–6 | <img src="assets/icons/time-purple.svg" alt="Time" class="emoji-icon" />: 60–120'</span>
      </div>
      <h2><a href="https://boardgamegeek.com/boardgame/224710/zombicide-green-horde" target="_blank">Zombicide: Green Horde</a></h2>
      <p>A cooperative survival game where players face off against hordes of zombie orcs in a medieval fantasy setting.</p>
      <small class="owner">(gasca98)</small>
    </div>

        <!-- GAME: Cyberpunk 2077 – The Board Game (Coming Soon) -->
    <div class="game coming-soon" data-players="1-4">
      <div class="game-meta">
        <span><img src="assets/icons/player-purple.svg" alt="Players" class="emoji-icon" />: 1–4 | <img src="assets/icons/time-purple.svg" alt="Time" class="emoji-icon" />: 75'</span>
      </div>
      <h2><a href="https://gamefound.com/en/projects/go-on-board/cyberpunk-2077-the-board-game" target="_blank">Cyberpunk 2077 – The Board Game</a></h2>
      <p>Tactical co-op game set in the Cyberpunk universe. Plan missions and fight through Night City. <strong>(Coming Soon – Pledge)</strong></p>
      <small class="owner">(gasca98)</small>
    </div>

    <!-- GAME: Nemesis: Retaliation (Coming Soon) -->
    <div class="game coming-soon" data-players="1-5">
      <div class="game-meta">
        <span><img src="assets/icons/player-purple.svg" alt="Players" class="emoji-icon" />: 1–5 | <img src="assets/icons/time-purple.svg" alt="Time" class="emoji-icon" />: 120'</span>
      </div>
      <h2><a href="https://gamefound.com/en/projects/awaken-realms/nemesis-retaliation" target="_blank">Nemesis: Retaliation</a></h2>
      <p>Survival horror and semi-coop action set in the Nemesis universe. <strong>(Coming Soon – Pledge)</strong></p>
      <small class="owner">(gasca98)</small>
    </div>
    
    <!-- GAME: Lands of Evershade (Coming Soon) -->
    <div class="game coming-soon" data-players="1-4">
      <div class="game-meta">
        <span><img src="assets/icons/player-purple.svg" alt="Players" class="emoji-icon" />: 1–5 | <img src="assets/icons/time-purple.svg" alt="Time" class="emoji-icon" />: 120'</span>
      </div>
      <h2><a href="https://gamefound.com/en/projects/awaken-realms/lands-of-evershade" target="_blank">Lands of Evershade</a></h2>
      <p>A cooperative adventure game with deck-building and exploration. <strong>(Coming Soon – Pledge)</strong></p>
      <small class="owner">(gasca98)</small>
    </div>

    <!-- GAME: World Order (Coming Soon) -->
    <div class="game coming-soon" data-players="2-5">
      <div class="game-meta">
        <span><img src="assets/icons/player-purple.svg" alt="Players" class="emoji-icon" />: 1-4 | <img src="assets/icons/time-purple.svg" alt="Time" class="emoji-icon" />: 180'</span>
      </div>
      <h2><a href="https://gamefound.com/it/projects/hegemonic-project-games/world-order" target="_blank">World Order</a></h2>
      <p>Geopolitical strategy game where players reshape the global balance of power. <strong>(Coming Soon – Pledge)</strong></p>
      <small class="owner">(RushHD)</small>
    </div>
    
  </div>

  <script>
    const playerFilter = document.getElementById('playerFilter');
    const timeFilter = document.getElementById('timeFilter');
    const ownerFilter = document.getElementById('ownerFilter');
    const clearFilters = document.getElementById('clearFilters');
    const games = document.querySelectorAll('.game');

    function getURLParams() {
      const params = new URLSearchParams(window.location.search);
      if (params.has('players')) playerFilter.value = params.get('players');
      if (params.has('time')) timeFilter.value = params.get('time');
      if (params.has('owner')) ownerFilter.value = params.get('owner');
    }

    function updateURLParams() {
      const params = new URLSearchParams();
      if (playerFilter.value) params.set('players', playerFilter.value);
      if (timeFilter.value) params.set('time', timeFilter.value);
      if (ownerFilter.value) params.set('owner', ownerFilter.value);
      const newUrl = window.location.pathname + '?' + params.toString();
      history.replaceState({}, '', newUrl);
    }

    function filterGames() {
      const selectedPlayers = parseInt(playerFilter.value);
      const selectedTime = parseInt(timeFilter.value);
      const selectedOwner = ownerFilter.value;

      games.forEach(game => {
        const metaText = game.querySelector('.game-meta')?.textContent || '';
        const timeMatch = metaText.match(/(\d+)\s*–?\s*(\d+)?'/);
        const minTime = timeMatch ? parseInt(timeMatch[1]) : null;
        const gameTime = timeMatch ? parseInt(timeMatch[1]) : null;

        const dataPlayers = game.dataset.players || '';
        const expansionMax = parseInt(game.dataset.playersWithExpansion || '0');
        const [min, max] = dataPlayers.split('-').map(n => parseInt(n.trim()));

        let matchPlayers = true;
        let matchTime = true;

        if (!isNaN(selectedPlayers)) {
          matchPlayers = selectedPlayers >= min && selectedPlayers <= max;

          const existingWarn = game.querySelector('.expansion-warning');
          if (!matchPlayers && !isNaN(expansionMax) && selectedPlayers <= expansionMax) {
            matchPlayers = true;
            if (!existingWarn) {
              const warn = document.createElement('div');
              warn.className = 'expansion-warning';
              warn.innerHTML = `<img src="assets/icons/warning-purple.svg" alt="Warning icon"> Requires expansion to support ${selectedPlayers} players`;
              game.appendChild(warn);
            }
          } else if (existingWarn) {
            existingWarn.remove();
          }
        } else {
          const existingWarn = game.querySelector('.expansion-warning');
          if (existingWarn) existingWarn.remove();
        }

        if (!isNaN(selectedTime) && minTime !== null) {
          matchTime = minTime <= selectedTime;
        }

        const ownerEl = game.querySelector('.owner');
        const gameOwner = ownerEl ? ownerEl.textContent.match(/\(([^)]+)\)/)?.[1] : null;
        const matchOwner = !selectedOwner || gameOwner === selectedOwner;
        game.style.display = (matchPlayers && matchTime && matchOwner) ? '' : 'none';
      });

      updateURLParams();
    }

    playerFilter.addEventListener('change', filterGames);
    timeFilter.addEventListener('change', filterGames);
    ownerFilter.addEventListener('change', filterGames);

    clearFilters.addEventListener('click', () => {
      playerFilter.value = '';
      timeFilter.value = '';
      ownerFilter.value = '';
      document.querySelectorAll('.expansion-warning').forEach(w => w.remove());
      filterGames();
    });

    window.addEventListener('DOMContentLoaded', () => {
      getURLParams();
      filterGames();
    });
  </script>
</body>
</html>
